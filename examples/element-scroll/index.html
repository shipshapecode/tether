<!DOCTYPE html>
<html>
    <head>
      <link rel="stylesheet" href="../resources/css/base.css" />
    </head>
    <body>

    <div class="scroll">
      <p>For a long time after the course of the steamer <em>Sofala</em> had been
      altered for the land, the low swampy coast had retained its appearance
      of a mere smudge of darkness beyond a belt of glitter. The sunrays
      seemed to fall violently upon the calm sea--seemed to shatter themselves
      upon an adamantine surface into sparkling dust, into a dazzling vapor
      of light that blinded the eye and wearied the brain with its unsteady
      brightness.</p>

      <p>Captain Whalley did not look at it. When his Serang, approaching the
      roomy cane arm-chair which he filled capably, had informed him in a low
      voice that the course was to be altered, he had risen at once and had
      remained on his feet, face forward, while the head of his ship swung
      through a quarter of a circle. He had not uttered a single word, not
      even the word to steady the helm. It was the Serang, an elderly, alert,
      little Malay, with a very dark skin, who murmured the order to the
      helmsman. And then slowly Captain Whalley sat down again in the
      arm-chair on the bridge and fixed his eyes on the deck between his feet.</p>

      <p>He could not hope to see anything new upon this lane of the sea. He had
      been on these coasts for the last three years. From Low Cape to Malantan
      the distance was fifty miles, six hours' steaming for the old ship with
      the tide, or seven against. Then you steered straight for the land, and
      by-and-by three palms would appear on the sky, tall and slim, and with
      their disheveled heads in a bunch, as if in confidential criticism of
      the dark mangroves. The Sofala would be headed towards the somber
      strip of the coast, which at a given moment, as the ship closed with
      it obliquely, would show several clean shining fractures--the brimful
      estuary of a river. Then on through a brown liquid, three parts water
      and one part black earth, on and on between the low shores, three parts
      black earth and one part brackish water, the Sofala would plow her way
      up-stream, as she had done once every month for these seven years or
      more, long before he was aware of her existence, long before he had ever
      thought of having anything to do with her and her invariable voyages.
      The old ship ought to have known the road better than her men, who had
      not been kept so long at it without a change; better than the faithful
      Serang, whom he had brought over from his last ship to keep the
      captain's watch; better than he himself, who had been her captain for
      the last three years only. She could always be depended upon to make her
      courses. Her compasses were never out. She was no trouble at all to
      take about, as if her great age had given her knowledge, wisdom, and
      steadiness. She made her landfalls to a degree of the bearing, and
      almost to a minute of her allowed time. At any moment, as he sat on
      the bridge without looking up, or lay sleepless in his bed, simply by
      reckoning the days and the hours he could tell where he was--the precise
      spot of the beat. He knew it well too, this monotonous huckster's
      round, up and down the Straits; he knew its order and its sights and its
      people. Malacca to begin with, in at daylight and out at dusk, to cross
      over with a rigid phosphorescent wake this highway of the Far East.
      Darkness and gleams on the water, clear stars on a black sky, perhaps
      the lights of a home steamer keeping her unswerving course in the
      middle, or maybe the elusive shadow of a native craft with her mat sails
      flitting by silently--and the low land on the other side in sight
      at daylight. At noon the three palms of the next place of call, up a
      sluggish river. The only white man residing there was a retired young
      sailor, with whom he had become friendly in the course of many voyages.
      Sixty miles farther on there was another place of call, a deep bay with
      only a couple of houses on the beach. And so on, in and out, picking
      up coastwise cargo here and there, and finishing with a hundred miles'
      steady steaming through the maze of an archipelago of small islands up
      to a large native town at the end of the beat. There was a three days'
      rest for the old ship before he started her again in inverse order,
      seeing the same shores from another bearing, hearing the same voices
      in the same places, back again to the Sofala's port of registry on
      the great highway to the East, where he would take up a berth nearly
      opposite the big stone pile of the harbor office till it was time to
      start again on the old round of 1600 miles and thirty days. Not a very
      enterprising life, this, for Captain Whalley, Henry Whalley, otherwise
      Dare-devil Harry--Whalley of the Condor, a famous clipper in her day.
      No. Not a very enterprising life for a man who had served famous firms,
      who had sailed famous ships (more than one or two of them his own); who
      had made famous passages, had been the pioneer of new routes and new
      trades; who had steered across the unsurveyed tracts of the South Seas,
      and had seen the sun rise on uncharted islands. Fifty years at sea, and
      forty out in the East ("a pretty thorough apprenticeship," he used
      to remark smilingly), had made him honorably known to a generation of
      shipowners and merchants in all the ports from Bombay clear over to
      where the East merges into the West upon the coast of the two Americas.
      His fame remained writ, not very large but plain enough, on the
      Admiralty charts. Was there not somewhere between Australia and China a
      Whalley Island and a Condor Reef? On that dangerous coral formation the
      celebrated clipper had hung stranded for three days, her captain and
      crew throwing her cargo overboard with one hand and with the other, as
      it were, keeping off her a flotilla of savage war-canoes. At that time
      neither the island nor the reef had any official existence. Later the
      officers of her Majesty's steam vessel Fusilier, dispatched to make a
      survey of the route, recognized in the adoption of these two names the
      enterprise of the man and the solidity of the ship. Besides, as anyone
      who cares may see, the "General Directory," vol. ii. p. 410, begins the
      description of the "Malotu or Whalley Passage" with the words: "This
      advantageous route, first discovered in 1850 by Captain Whalley in the
      ship Condor," &amp;c., and ends by recommending it warmly to sailing vessels
      leaving the China ports for the south in the months from December to
      April inclusive.</p>

      <p>This was the clearest gain he had out of life. Nothing could rob him
      of this kind of fame. The piercing of the Isthmus of Suez, like the
      breaking of a dam, had let in upon the East a flood of new ships, new
      men, new methods of trade. It had changed the face of the Eastern seas
      and the very spirit of their life; so that his early experiences meant
      nothing whatever to the new generation of seamen.</p>

      <p>In those bygone days he had handled many thousands of pounds of his
      employers' money and of his own; he had attended faithfully, as by law
      a shipmaster is expected to do, to the conflicting interests of owners,
      charterers, and underwriters. He had never lost a ship or consented to
      a shady transaction; and he had lasted well, outlasting in the end the
      conditions that had gone to the making of his name. He had buried his
      wife (in the Gulf of Petchili), had married off his daughter to the man
      of her unlucky choice, and had lost more than an ample competence in the
      crash of the notorious Travancore and Deccan Banking Corporation, whose
      downfall had shaken the East like an earthquake. And he was sixty-five
      years old.</p>
    </div>

    <div class="pointer"></div>

    <style>
      body {
        cursor: pointer;
      }
      .scroll {
        height: 80vh;
        width: 80vw;
        position: fixed;
        top: 5em;
        left: 10vw;

        overflow-y: scroll;
        padding: 4em;
        box-sizing: border-box;
        line-height: 1.2;
      }
      .scroll::-webkit-scrollbar, .scroll::-webkit-scrollbar-track, .scroll::-webkit-scrollbar-thumb {
        display: none;
      }

      .pointer {
        height: 3.6em;
        width: 77vw;
        border: 5px solid #CCC;
        border-radius: 15px;
        background-color: rgba(0, 0, 0, 0.05);
        pointer-events: none;
      }
      .highlight {
        background-color: rgba(255, 255, 0, 0.3);
      }
      .hover {
        background-color: rgba(0, 255, 255, 0.2);
      }
    </style>

    <script src="/tether/tether.js"></script>
    <script>
      var pointer = document.querySelector('.pointer');

      new Tether({
        element: '.pointer',
        target: '.scroll',
        attachment: 'middle right',
        targetAttachment: 'middle left',
        targetModifier: 'scroll-handle'
      });

      var paras = document.querySelectorAll('p');
      for(var i=paras.length; i--;){
        var sents = paras[i].innerHTML.split('.');
        for (var j=sents.length; j--;){
          if (sents[j].trim().length)
            sents[j] = '<span>' + sents[j] + '.</span>';
        }
        paras[i].innerHTML = sents.join('');
      }

      var spans = document.querySelectorAll('p span');
      var scroll = document.querySelector('.scroll');
      var pointer = document.querySelector('.pointer');

      function highlight(){
        if (!spans) return;

        var bar = pointer.getBoundingClientRect();
        
        for (var i=spans.length; i--;){
          var coord = spans[i].getBoundingClientRect();

          if (bar.top < coord.top && bar.bottom > coord.top){
            spans[i].classList.add('hover');
          } else if (spans[i].classList.contains('hover')) {
            spans[i].classList.remove('hover');
          }
        }

        requestAnimationFrame(highlight);
      }

      highlight();

      document.body.addEventListener('click', function(){
        var els = document.querySelectorAll('.hover');
        for (var i=els.length; i--;)
          els[i].classList.toggle('highlight');
      });
    </script>
  </body>
</html>
